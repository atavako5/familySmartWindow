(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(5),i=a(7),s=a(6),l=a(8),c=a(0),o=a.n(c),u=a(44),m=a.n(u),h=a(45),d=a.n(h),p=function e(){Object(n.a)(this,e),this.getCoordinates=function(e){window.navigator.geolocation.getCurrentPosition(function(t){e({latitude:t.coords.latitude,longitude:t.coords.longitude})},function(e){return console.log(e)})}},g=a(46),y=a.n(g),f=function e(){Object(n.a)(this,e),this.findPrayerTime=function(e,t,a,n,r){y.a.get("https://api.aladhan.com/v1/calendar",{params:{latitude:e,longitude:t,method:0,month:a+1,year:n}}).then(function(e){r(e.data.data)})}},v=a(27),E=a.n(v),T=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={MonthsPrayerTimes:[],nextMonthsPrayerTime:[],date:new Date,tehranTime:new Date},a.getMonthPrayingTime=function(e,t){(new f).findPrayerTime(a.props.latitude,a.props.longitude,e,t,function(t){e!==(new Date).getMonth()?a.setState({nextMonthsPrayerTime:t}):a.setState({MonthsPrayerTimes:t})})},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"getTwoMonthPrayerTime",value:function(){if(this.state.MonthsPrayerTimes){var e=new Date;this.getMonthPrayingTime(e.getMonth(),e.getFullYear()),e.getMonth()<11?this.getMonthPrayingTime(e.getMonth()+1,e.getFullYear()):this.getMonthPrayingTime(0,e.getFullYear()+1)}}},{key:"componentDidMount",value:function(){var e=this;this.getTwoMonthPrayerTime(),setInterval(function(){e.setState({date:new Date});var t=60*parseInt((new Date).getHours())+parseInt((new Date).getMinutes()),a=e.myNextPrayerTime(e.state.MonthsPrayerTimes[(new Date).getDate()-1]);a-t>=0&&a-t<2&&e.props.playAzan(!0)},1e3),setInterval(function(){return e.setState({tehranTime:e.calcTime(4.5)})},1e3),setInterval(function(){return e.getTwoMonthPrayerTime()},36e6)}},{key:"calcTime",value:function(e){var t=new Date,a=t.getTime()+6e4*t.getTimezoneOffset();return new Date(a+36e5*e)}},{key:"myNextPrayerTime",value:function(e){if(null!=e.date&&(new Date).getDate()===parseInt(e.date.gregorian.day)){var t=[];t.push(e.timings.Dhuhr),t.push(e.timings.Maghrib);for(var a=4e3,n=60*parseInt((new Date).getHours())+parseInt((new Date).getMinutes()),r=0;r<t.length;r++){var i=60*parseInt(t[r].split(" ")[0].split(":")[0])+parseInt(t[r].split(" ")[0].split(":")[1]);if(i-n<a&&i-n>0)return a=Math.abs(n-i),i}}}},{key:"render",value:function(){var e="";if(this.state.MonthsPrayerTimes&&this.state.nextMonthsPrayerTime){e=this.state.MonthsPrayerTimes.concat(this.state.nextMonthsPrayerTime).map(function(e){var t="",a=[];if(a.push("Imsak"),a.push("Fajr"),a.push("Sunrise"),a.push("Noon"),a.push("Sunset"),a.push("Maghrib"),(new Date).getDate()===parseInt(e.date.gregorian.day)){var n=[];n.push(e.timings.Imsak),n.push(e.timings.Fajr),n.push(e.timings.Sunrise),n.push(e.timings.Dhuhr),n.push(e.timings.Sunset),n.push(e.timings.Maghrib);for(var r=4e3,i=0,s=60*parseInt((new Date).getHours())+parseInt((new Date).getMinutes()),l=0;l<n.length;l++){var c=60*parseInt(n[l].split(" ")[0].split(":")[0])+parseInt(n[l].split(" ")[0].split(":")[1]);c-s<r&&c-s>0&&(r=Math.abs(s-c),i=l)}a[i]=a[i]+" Now",t="today-date"}return o.a.createElement("div",{key:e.date.readable,className:"ui ".concat(t," card")},o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"header"},e.date.gregorian.weekday.en),o.a.createElement("div",{className:"meta"},e.date.readable),o.a.createElement("table",{className:"ui celled table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Time Of Day"),o.a.createElement("th",null,"Prayer Time")),o.a.createElement("tr",{className:"".concat(a[0])},o.a.createElement("td",{"data-label":"Time Of Day"},o.a.createElement("strong",null,"Imsak")),o.a.createElement("td",{"data-label":"Prayer Time"},e.timings.Imsak)),o.a.createElement("tr",{className:"".concat(a[1])},o.a.createElement("td",{"data-label":"Time Of Day"},o.a.createElement("strong",null,"Fajr")),o.a.createElement("td",{"data-label":"Prayer Time"},e.timings.Fajr)),o.a.createElement("tr",{className:"".concat(a[2])},o.a.createElement("td",{"data-label":"Time Of Day"},o.a.createElement("strong",null,"Sunrise")),o.a.createElement("td",{"data-label":"Prayer Time"},e.timings.Sunrise)),o.a.createElement("tr",{className:"".concat(a[3])},o.a.createElement("td",{"data-label":"Time Of Day"},o.a.createElement("strong",null,"Noon")),o.a.createElement("td",{"data-label":"Prayer Time"},e.timings.Dhuhr)),o.a.createElement("tr",{className:"".concat(a[4])},o.a.createElement("td",{"data-label":"Time Of Day"},o.a.createElement("strong",null,"Sunset")),o.a.createElement("td",{"data-label":"Prayer Time"},e.timings.Sunset)),o.a.createElement("tr",{className:"".concat(a[5])},o.a.createElement("td",{"data-label":"Time Of Day"},o.a.createElement("strong",null,"Maghrib")),o.a.createElement("td",{"data-label":"Prayer Time"},e.timings.Maghrib))))))});var t=(new Date).getDate();(e=e.slice(t-1,t+2)).push(o.a.createElement("div",{key:"localTime",className:"ui card"},o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"header"},"Local Time:"),o.a.createElement(E.a,{className:"clock",value:this.state.date}),o.a.createElement("div",{className:"header"},"Tehran Time:"),o.a.createElement(E.a,{className:"clock",value:this.state.tehranTime}))))}return o.a.createElement("div",null,this.state&&this.state.MonthsPrayerTimes&&o.a.createElement("div",{className:"ui cards"}," ",e," "))}}]),t}(o.a.Component),b=a(47),w=a.n(b),D=(a(102),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={refreshFlag:!1},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;setInterval(function(){return e.setState({refreshFlag:!e.state.refreshFlag})},36e6)}},{key:"render",value:function(){return o.a.createElement(w.a,{forecast:this.props.forecast,apikey:this.props.apikey,type:this.props.type,lat:this.props.lat,lon:this.props.lon,tick:this.state.refreshFlag})}}]),t}(o.a.Component)),M=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={longitude:"",latitude:"",date:new Date,playAzan:!1,playerURL:"https://soundcloud.com/aljaafaria-centre/beautiful-shia-azan-by-sayed"},a.setCoordinates=function(){(new p).getCoordinates(function(e){a.setState({latitude:e.latitude,longitude:e.longitude})})},a.ref=function(e){a.player=e},a.refPlayerText=function(e){a.playerText=e},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setCoordinates()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"overall"},o.a.createElement("div",{className:"ui equal width center aligned padded grid"},this.state&&this.state.longitude&&this.state.latitude&&o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"column"},o.a.createElement(T,{latitude:this.state.latitude,longitude:this.state.longitude,playAzan:function(t){return e.setState({playAzan:t})}}))),this.state&&this.state.longitude&&this.state.latitude&&o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"column"},o.a.createElement(D,{forecast:"5days",apikey:"c1649867e0f4434fb55224755191905",type:"geo",lat:this.state.latitude.toString(),lon:this.state.longitude.toString()}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"column"},o.a.createElement(d.a,{className:"player",ref:this.ref,controls:!0,width:"200px",height:"80px",url:this.state.playerURL,playing:this.state.playAzan,onEnded:function(){e.setState({playAzan:!1}),e.player.seekTo(0)}}),o.a.createElement("div",{className:"ui input"},o.a.createElement("input",{ref:this.refPlayerText,type:"text",placeholder:"URL..."})),o.a.createElement("button",{className:"ui primary button",onClick:function(){return e.setState({playerURL:e.playerText.value})}},"Set")))))}}]),t}(o.a.Component),N=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"renderContent",value:function(){return o.a.createElement(M,null)}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderContent())}}]),t}(o.a.Component);m.a.render(o.a.createElement(N,null),document.querySelector("#root"))},48:function(e,t,a){e.exports=a(103)}},[[48,1,2]]]);
//# sourceMappingURL=main.2b7d0000.chunk.js.map